!function(a){var b=pok_checkout_data;pok_load_returning_user_data=function(){parseInt(b.billing_state)&&"ID"==b.billing_country&&(a("#billing_state").val(b.billing_state),parseInt(b.billing_city)&&(a("#billing_city").on("options_loaded",function(c,d){d[b.billing_city]&&(b.enableDistrict||a("#billing_city").addClass("update_totals_on_change"),a("#billing_city").val(b.billing_city).trigger("change"))}),parseInt(b.billing_district)&&b.enableDistrict&&a("#billing_district").on("options_loaded",function(c,d){d[b.billing_district]&&a("#billing_district").addClass("update_totals_on_change").val(b.billing_district).trigger("change")}))),parseInt(b.shipping_state)&&"ID"==b.shipping_country&&(a("#shipping_state").val(b.shipping_state),parseInt(b.shipping_city)&&(a("#shipping_city").on("options_loaded",function(c,d){d[b.shipping_city]&&(b.enableDistrict||a("#shipping_city").addClass("update_totals_on_change"),a("#shipping_city").val(b.shipping_city).trigger("change"))}),parseInt(b.shipping_district)&&b.enableDistrict&&a("#shipping_district").on("options_loaded",function(c,d){d[b.shipping_district]&&a("#shipping_district").addClass("update_totals_on_change").val(b.shipping_district).trigger("change")})))},pok_check_country=function(c){"billing"===c?a("#billing_country").val(b.billing_country):"shipping"===c&&a("#shipping_country").val(b.shipping_country),a("#"+c+"_country").on("change",function(){a("#"+c+"_country_field, #"+c+"_state_field").addClass("pok_loading"),a("#"+c+"_country, #"+c+"_state").prop("disabled",!0),a.ajax({type:"POST",url:b.ajaxurl,data:{action:"pok_change_country",country:a("#"+c+"_country").val()},success:function(b){"reload"==b?(a("*").css("cursor","wait"),location.reload()):(a("#"+c+"_country_field, #"+c+"_state_field").removeClass("pok_loading"),a("#"+c+"_country, #"+c+"_state").prop("disabled",!1))}})})},pok_load_city=function(c){if("billing"===c||"shipping"===c){var d=a("#"+c+"_state").val();d&&(a("#"+c+"_city_field, #"+c+"_district_field").prop("title",b.labelLoadingCity).addClass("pok_loading"),a("#"+c+"_city, #"+c+"_district").prop("disabled",!0),a.post(b.ajaxurl,{action:"get_list_city",nextNonce:b.nextNonce,province_id:d},function(e,f){var g=a.parseJSON(e);if(0==d||"success"==f&&!Array.isArray(g))a("#"+c+"_city").val("").empty().append('<option value="">'+b.labelSelectCity+"</option>"),a("#"+c+"_district").val("").empty().append('<option value="">'+b.labelSelectDistrict+"</option>"),a.each(g,function(b,d){""!=d&&"0"!=d&&a("#"+c+"_city").append('<option value="'+b+'">'+d+"</option>")}),a("#"+c+"_city_field, #"+c+"_district_field").removeAttr("title").removeClass("pok_loading"),a("#"+c+"_city").prop("disabled",!1).trigger("chosen:updated").trigger("options_loaded",g),a("#"+c+"_district").prop("disabled",!1).trigger("chosen:updated"),b.enableDistrict||a("#"+c+"_city_field").addClass("update_totals_on_change");else if(a("#"+c+"_city_field").removeAttr("title").removeClass("pok_loading"),a("#"+c+"_city").prop("disabled",!1),confirm(b.labelFailedCity))return pok_load_city(c)}))}},pok_load_district=function(c){if("billing"===c||"shipping"===c){var d=a("#"+c+"_city").val();parseInt(d)&&(a("#"+c+"_district_field").prop("title",b.labelLoadingDistrict).addClass("pok_loading"),a("#"+c+"_district").prop("disabled",!0),a.post(b.ajaxurl,{action:"get_list_district",nextNonce:b.nextNonce,city_id:d},function(e,f){var g=a.parseJSON(e);if(0==d||"success"==f&&!Array.isArray(g))a("#"+c+"_district").val("").empty().append('<option value="">'+b.labelSelectDistrict+"</option>"),a.each(g,function(b,d){""!=d&&"0"!=d&&a("#"+c+"_district").append('<option value="'+b+'">'+d+"</option>")}),a("#"+c+"_district_field").removeAttr("title").removeClass("pok_loading").addClass("update_totals_on_change"),a("#"+c+"_district").prop("disabled",!1).trigger("chosen:updated").trigger("options_loaded",g);else if(a("#"+c+"_district_field").removeAttr("title").removeClass("pok_loading"),a("#"+c+"_district").prop("disabled",!1),confirm(b.labelFailedDistrict))return pok_load_district(c)}))}},pok_check_country("billing"),pok_check_country("shipping"),"yes"===b.loadReturningUserData&&pok_load_returning_user_data(),a("#billing_state").on("change",function(){pok_load_city("billing")}),a("#shipping_state").on("change",function(){pok_load_city("shipping")}),b.enableDistrict&&(a("#billing_city").on("change",function(){pok_load_district("billing")}),a("#shipping_city").on("change",function(){pok_load_district("shipping")})),a(".woocommerce-billing-fields__field-wrapper, .woocommerce-shipping-fields__field-wrapper").each(function(b,c){var d=a(c).attr("class");a(c).removeClass(d).addClass(d+"-pok").find(".form-row").sort(function(b,c){var d=parseInt(a(b).attr("data-priority"))||parseInt(a(b).attr("data-sort")),e=parseInt(a(c).attr("data-priority"))||parseInt(a(c).attr("data-sort"));return d<e?-1:d>e?1:0}).appendTo(c)})}(jQuery);